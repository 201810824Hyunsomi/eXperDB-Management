<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="backupNodeSql">
	<select id="getNodeList" parameterType="targetMachineVO" resultType="targetMachineVO">
			SELECT
					name,
					user,
					password,
					operatingsystem,
					description,
					isprotected,
					jobname,
					licensestatus,
					connectionstatus,
					lastresult,
					recoverypointcount,
					recoverysetcount,
					excludevolumes,
					backuplocationtype,
					machinetype,
					uuid
			FROM TARGETMACHINE
			WHERE 1 =1
	</select>
		
	<select id="getNodeInfo" resultType="targetMachineVO" parameterType="String">
		SELECT 
		    "name" AS "name"
		  , "User" AS "user"
		  , description
		  FROM targetmachine
	     WHERE "name" like #{path}
	</select>
</mapper>