<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="agentMonitoringSql">

	<select id="selectAgentMonitoringList" parameterType="agentMonitoringVO" resultType="agentMonitoringVO">
		/**
	 	* Query ID : selectWorkList
	 	* Description : workList 조회
	 	* Author : 박태혁
	 	**/
	 	
	 	SELECT 
	 		A.DB_SVR_NM
	 		, B.AGT_CNDT_CD
	 		, TO_CHAR(B.STRT_DTM,'YYYY-MM-DD HH24:MI:SS') AS STRT_DTM
	 		, B.ISTCNF_YN
	 		, B.AGT_VERSION
	 	FROM T_DBSVR_I A LEFT OUTER JOIN T_AGTCNDT_I B
	 		ON A.IPADR = B.IPADR
	 		
		<if test="DB_SVR_NM != null and DB_SVR_NM != '' ">
			WHERE A.DB_SVR_NM LIKE '%' || #{DB_SVR_NM} || '%'
		</if>
		
      ORDER BY B.LST_MDF_DTM DESC
    </select>
    
   
</mapper>
